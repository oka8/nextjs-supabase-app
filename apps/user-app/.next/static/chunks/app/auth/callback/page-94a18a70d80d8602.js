(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{1525:(e,r,t)=>{"use strict";t.d(r,{N:()=>s});let s=(0,t(4823).UU)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvY2FsaG9zdCIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQ1MTg1NTUwLCJleHAiOjE5NjA3NjE1NTB9.A9x7b1FhjCTFWVGa8QJ5OJMGq9D3LY1Ib3YGI5X2-OY")},2942:(e,r,t)=>{"use strict";var s=t(2418);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},3039:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=3039,e.exports=r},4898:(e,r,t)=>{Promise.resolve().then(t.bind(t,8305))},8305:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(4568),a=t(7620),n=t(2942),i=t(1525);function c(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)("loading"),[c,o]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{let r=new URLSearchParams(window.location.hash.slice(1)),s=new URLSearchParams(window.location.search);if(r.get("access_token")||s.get("code")){let{data:r,error:s}=await i.N.auth.getSession();if(s){console.error("Auth callback error:",s),o(s.message),t("error");return}if(r.session)t("success"),setTimeout(()=>e.push("/"),2e3);else{let{data:r}=i.N.auth.onAuthStateChange((r,s)=>{"SIGNED_IN"===r&&s&&(t("success"),setTimeout(()=>e.push("/"),2e3))});setTimeout(()=>{o("認証がタイムアウトしました"),t("error"),r.subscription.unsubscribe()},5e3)}}else o("認証パラメータが見つかりません"),t("error")}catch(e){console.error("Auth callback error:",e),o("認証処理中にエラーが発生しました"),t("error")}})()},[e]),"loading"===r)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"認証を処理しています..."}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"少々お待ちください"})]})}):"success"===r?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/20 mb-4",children:(0,s.jsx)("svg",{className:"h-8 w-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"ログインに成功しました！"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"ホームページにリダイレクトしています..."})]})}):"error"===r?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:(0,s.jsx)("svg",{className:"h-8 w-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"認証に失敗しました"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:c||"認証処理中にエラーが発生しました"}),(0,s.jsx)("button",{onClick:()=>e.push("/auth"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"ログイン画面に戻る"})]})}):null}}},e=>{e.O(0,[823,587,902,358],()=>e(e.s=4898)),_N_E=e.O()}]);