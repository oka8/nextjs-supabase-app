(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1525:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(4823).UU)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvY2FsaG9zdCIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQ1MTg1NTUwLCJleHAiOjE5NjA3NjE1NTB9.A9x7b1FhjCTFWVGa8QJ5OJMGq9D3LY1Ib3YGI5X2-OY")},2905:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(4568),a=t(7261),l=t.n(a),d=t(3213),i=t(7620),n=t(2942);function c(e){let{children:s,redirectTo:t="/auth"}=e,{user:a,loading:l}=(0,d.A)(),c=(0,n.useRouter)();return((0,i.useEffect)(()=>{l||a||c.push(t)},[a,l,c,t]),l)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a?(0,r.jsx)(r.Fragment,{children:s}):null}function x(){let{user:e,signOut:s}=(0,d.A)(),t=async()=>{try{await s()}catch(e){console.error("Sign out error:",e)}};return(0,r.jsx)(c,{children:(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-6 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"ダッシュボード"}),(0,r.jsxs)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:["ようこそ、",null==e?void 0:e.email,"さん"]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(l(),{href:"/",className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:"ホームに戻る"}),(0,r.jsx)("button",{onClick:t,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"ログアウト"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,r.jsxs)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,r.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"プロフィール"}),(0,r.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"アカウント設定を管理"})]})]})}),(0,r.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:"データ同期"}),(0,r.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"リアルタイム更新"})]})]})}),(0,r.jsx)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:"分析"}),(0,r.jsx)("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"使用状況を確認"})]})]})})]}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"ユーザー情報"}),(0,r.jsxs)("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"メールアドレス"}),(0,r.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white",children:null==e?void 0:e.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"ユーザーID"}),(0,r.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white font-mono",children:null==e?void 0:e.id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"作成日時"}),(0,r.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white",children:(null==e?void 0:e.created_at)?new Date(e.created_at).toLocaleString("ja-JP"):"不明"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"最終ログイン"}),(0,r.jsx)("dd",{className:"text-sm text-gray-900 dark:text-white",children:(null==e?void 0:e.last_sign_in_at)?new Date(e.last_sign_in_at).toLocaleString("ja-JP"):"不明"})]})]})]})}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["これは認証が必要なプロテクトされたページです。",(0,r.jsx)("br",{}),"ログインしているユーザーのみアクセス可能です。"]})})]})})})})})}},2942:(e,s,t)=>{"use strict";var r=t(2418);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},3039:e=>{function s(e){var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}s.keys=()=>[],s.resolve=s,s.id=3039,e.exports=s},3172:(e,s,t)=>{Promise.resolve().then(t.bind(t,2905))},3213:(e,s,t)=>{"use strict";t.d(s,{A:()=>i,AuthProvider:()=>n});var r=t(4568),a=t(7620),l=t(1525);let d=(0,a.createContext)({user:null,session:null,loading:!0,signOut:async()=>{}}),i=()=>{let e=(0,a.useContext)(d);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},n=e=>{let{children:s}=e,[t,i]=(0,a.useState)(null),[n,c]=(0,a.useState)(null),[x,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let{data:{session:s},error:t}=await l.N.auth.getSession();if(t)console.error("Error getting session:",t);else{var e;c(s),i(null!=(e=null==s?void 0:s.user)?e:null)}}catch(e){console.error("Error in getInitialSession:",e)}finally{o(!1)}})();let{data:{subscription:e}}=l.N.auth.onAuthStateChange(async(e,s)=>{var t;c(s),i(null!=(t=null==s?void 0:s.user)?t:null),o(!1)});return()=>e.unsubscribe()},[]);let h=async()=>{try{let{error:e}=await l.N.auth.signOut();e&&console.error("Error signing out:",e)}catch(e){console.error("Error in signOut:",e)}};return(0,r.jsx)(d.Provider,{value:{user:t,session:n,loading:x,signOut:h},children:s})}}},e=>{e.O(0,[823,261,587,902,358],()=>e(e.s=3172)),_N_E=e.O()}]);